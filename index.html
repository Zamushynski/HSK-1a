<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#1a1a2e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="HSK1 Ê±âËØ≠">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icon-192.png">
  <link rel="icon" href="icon-192.png">
  <title>HSK1 Ê±âËØ≠</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200;300;400;600&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0d1117; overscroll-behavior: none; -webkit-user-select: none; user-select: none; }
    html, body, #root { height: 100%; }
    button { -webkit-tap-highlight-color: transparent; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
  <script type="text/babel">
    const { useState, useEffect, useRef } = React;



function useIsMobile() {
  const [m, setM] = useState(window.innerWidth < 480);
  useEffect(() => {
    const h = () => setM(window.innerWidth < 480);
    window.addEventListener("resize", h);
    return () => window.removeEventListener("resize", h);
  }, []);
  return m;
}

const HSK1_VOCAB = [
  { id:1, zh:"Êàë", pinyin:"w«í", en:"I, me", ru:"—è", cat:"pronouns" },
  { id:2, zh:"‰Ω†", pinyin:"n«ê", en:"you", ru:"—Ç—ã", cat:"pronouns" },
  { id:3, zh:"‰ªñ", pinyin:"tƒÅ", en:"he, him", ru:"–æ–Ω", cat:"pronouns" },
  { id:4, zh:"Â•π", pinyin:"tƒÅ", en:"she, her", ru:"–æ–Ω–∞", cat:"pronouns" },
  { id:5, zh:"Êàë‰ª¨", pinyin:"w«ímen", en:"we, us", ru:"–º—ã", cat:"pronouns" },
  { id:6, zh:"‰Ω†‰ª¨", pinyin:"n«êmen", en:"you (plural)", ru:"–≤—ã", cat:"pronouns" },
  { id:7, zh:"‰ªñ‰ª¨", pinyin:"tƒÅmen", en:"they, them", ru:"–æ–Ω–∏", cat:"pronouns" },
  { id:8, zh:"Ëøô", pinyin:"zh√®", en:"this", ru:"—ç—Ç–æ/—ç—Ç–æ—Ç", cat:"pronouns" },
  { id:9, zh:"ÈÇ£", pinyin:"n√†", en:"that", ru:"—Ç–æ—Ç/—Ç–∞", cat:"pronouns" },
  { id:10, zh:"Âì™", pinyin:"n«é", en:"which", ru:"–∫–∞–∫–æ–π/–∫–æ—Ç–æ—Ä—ã–π", cat:"pronouns" },
  { id:11, zh:"Ë∞Å", pinyin:"sh√©i", en:"who", ru:"–∫—Ç–æ", cat:"pronouns" },
  { id:12, zh:"‰ªÄ‰πà", pinyin:"sh√©nme", en:"what", ru:"—á—Ç–æ", cat:"pronouns" },
  { id:13, zh:"Â§öÂ∞ë", pinyin:"du≈çshao", en:"how many/much", ru:"—Å–∫–æ–ª—å–∫–æ", cat:"pronouns" },
  { id:14, zh:"Âá†", pinyin:"j«ê", en:"how many, several", ru:"—Å–∫–æ–ª—å–∫–æ/–Ω–µ—Å–∫–æ–ª—å–∫–æ", cat:"pronouns" },
  { id:15, zh:"ÊÄé‰πà", pinyin:"zƒõnme", en:"how", ru:"–∫–∞–∫", cat:"pronouns" },
  { id:16, zh:"ÊÄé‰πàÊ†∑", pinyin:"zƒõnmey√†ng", en:"how about", ru:"–∫–∞–∫ –Ω–∞—Å—á—ë—Ç", cat:"pronouns" },
  { id:17, zh:"ÊòØ", pinyin:"sh√¨", en:"to be", ru:"–±—ã—Ç—å/—è–≤–ª—è—Ç—å—Å—è", cat:"verbs" },
  { id:18, zh:"Êúâ", pinyin:"y«íu", en:"to have", ru:"–∏–º–µ—Ç—å/–µ—Å—Ç—å", cat:"verbs" },
  { id:19, zh:"Áúã", pinyin:"k√†n", en:"to look, to see", ru:"—Å–º–æ—Ç—Ä–µ—Ç—å", cat:"verbs" },
  { id:20, zh:"ÁúãËßÅ", pinyin:"k√†nji√†n", en:"to see", ru:"—É–≤–∏–¥–µ—Ç—å", cat:"verbs" },
  { id:21, zh:"Âê¨", pinyin:"tƒ´ng", en:"to listen", ru:"—Å–ª—É—à–∞—Ç—å", cat:"verbs" },
  { id:22, zh:"ËØ¥", pinyin:"shu≈ç", en:"to speak, to say", ru:"–≥–æ–≤–æ—Ä–∏—Ç—å", cat:"verbs" },
  { id:23, zh:"ËØª", pinyin:"d√∫", en:"to read", ru:"—á–∏—Ç–∞—Ç—å –≤—Å–ª—É—Ö", cat:"verbs" },
  { id:24, zh:"ÂÜô", pinyin:"xiƒõ", en:"to write", ru:"–ø–∏—Å–∞—Ç—å", cat:"verbs" },
  { id:25, zh:"Âè´", pinyin:"ji√†o", en:"to call, to be called", ru:"–∑–≤–∞—Ç—å/–∑–≤–∞—Ç—å—Å—è", cat:"verbs" },
  { id:26, zh:"Êù•", pinyin:"l√°i", en:"to come", ru:"–ø—Ä–∏—Ö–æ–¥–∏—Ç—å", cat:"verbs" },
  { id:27, zh:"Âéª", pinyin:"q√π", en:"to go", ru:"–∏–¥—Ç–∏/–µ—Ö–∞—Ç—å", cat:"verbs" },
  { id:28, zh:"Âõû", pinyin:"hu√≠", en:"to return", ru:"–≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è", cat:"verbs" },
  { id:29, zh:"ÂêÉ", pinyin:"chƒ´", en:"to eat", ru:"–µ—Å—Ç—å/–∫—É—à–∞—Ç—å", cat:"verbs" },
  { id:30, zh:"Âñù", pinyin:"hƒì", en:"to drink", ru:"–ø–∏—Ç—å", cat:"verbs" },
  { id:31, zh:"ÂÅö", pinyin:"zu√≤", en:"to do, to make", ru:"–¥–µ–ª–∞—Ç—å", cat:"verbs" },
  { id:32, zh:"‰π∞", pinyin:"m«éi", en:"to buy", ru:"–ø–æ–∫—É–ø–∞—Ç—å", cat:"verbs" },
  { id:33, zh:"ÂºÄ", pinyin:"kƒÅi", en:"to open, to drive", ru:"–æ—Ç–∫—Ä—ã–≤–∞—Ç—å/–≤–æ–¥–∏—Ç—å", cat:"verbs" },
  { id:34, zh:"Âùê", pinyin:"zu√≤", en:"to sit", ru:"—Å–∏–¥–µ—Ç—å", cat:"verbs" },
  { id:35, zh:"‰Ωè", pinyin:"zh√π", en:"to live", ru:"–∂–∏—Ç—å", cat:"verbs" },
  { id:36, zh:"Â≠¶‰π†", pinyin:"xu√©x√≠", en:"to study", ru:"—É—á–∏—Ç—å—Å—è", cat:"verbs" },
  { id:37, zh:"Â∑•‰Ωú", pinyin:"g≈çngzu√≤", en:"to work; work", ru:"—Ä–∞–±–æ—Ç–∞—Ç—å", cat:"verbs" },
  { id:38, zh:"Áù°Ëßâ", pinyin:"shu√¨ji√†o", en:"to sleep", ru:"—Å–ø–∞—Ç—å", cat:"verbs" },
  { id:39, zh:"ÊâìÁîµËØù", pinyin:"d«é di√†nhu√†", en:"to make a phone call", ru:"–∑–≤–æ–Ω–∏—Ç—å", cat:"verbs" },
  { id:40, zh:"ÂñúÊ¨¢", pinyin:"x«êhuan", en:"to like", ru:"–Ω—Ä–∞–≤–∏—Ç—å—Å—è/–ª—é–±–∏—Ç—å", cat:"verbs" },
  { id:41, zh:"ÊÉ≥", pinyin:"xi«éng", en:"to want, to think", ru:"—Ö–æ—Ç–µ—Ç—å/–¥—É–º–∞—Ç—å", cat:"verbs" },
  { id:42, zh:"ËÆ§ËØÜ", pinyin:"r√®nshi", en:"to know (a person)", ru:"–∑–Ω–∞—Ç—å (—á–µ–ª–æ–≤–µ–∫–∞)", cat:"verbs" },
  { id:43, zh:"‰ºö", pinyin:"hu√¨", en:"can, will", ru:"—É–º–µ—Ç—å/–º–æ—á—å", cat:"verbs" },
  { id:44, zh:"ËÉΩ", pinyin:"n√©ng", en:"can, able to", ru:"–º–æ—á—å", cat:"verbs" },
  { id:45, zh:"ËØ∑", pinyin:"q«êng", en:"please; to invite", ru:"–ø–æ–∂–∞–ª—É–π—Å—Ç–∞", cat:"verbs" },
  { id:46, zh:"‰∏ãÈõ®", pinyin:"xi√† y«î", en:"to rain", ru:"–∏–¥—ë—Ç –¥–æ–∂–¥—å", cat:"verbs" },
  { id:47, zh:"‰∫∫", pinyin:"r√©n", en:"person, people", ru:"—á–µ–ª–æ–≤–µ–∫/–ª—é–¥–∏", cat:"nouns" },
  { id:48, zh:"ÊúãÂèã", pinyin:"p√©ngyou", en:"friend", ru:"–¥—Ä—É–≥", cat:"nouns" },
  { id:49, zh:"ÂêåÂ≠¶", pinyin:"t√≥ngxu√©", en:"classmate", ru:"–æ–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫", cat:"nouns" },
  { id:50, zh:"ËÄÅÂ∏à", pinyin:"l«éoshƒ´", en:"teacher", ru:"—É—á–∏—Ç–µ–ª—å", cat:"nouns" },
  { id:51, zh:"Â≠¶Áîü", pinyin:"xu√©sheng", en:"student", ru:"—Å—Ç—É–¥–µ–Ω—Ç", cat:"nouns" },
  { id:52, zh:"ÂåªÁîü", pinyin:"yƒ´shƒìng", en:"doctor", ru:"–≤—Ä–∞—á", cat:"nouns" },
  { id:53, zh:"ÂÖàÁîü", pinyin:"xiƒÅnsheng", en:"Mr., sir", ru:"–≥–æ—Å–ø–æ–¥–∏–Ω", cat:"nouns" },
  { id:54, zh:"Â∞èÂßê", pinyin:"xi«éojiƒõ", en:"Miss, Ms.", ru:"–≥–æ—Å–ø–æ–∂–∞", cat:"nouns" },
  { id:55, zh:"Áà∏Áà∏", pinyin:"b√†ba", en:"father", ru:"–ø–∞–ø–∞", cat:"nouns" },
  { id:56, zh:"Â¶àÂ¶à", pinyin:"mƒÅma", en:"mother", ru:"–º–∞–º–∞", cat:"nouns" },
  { id:57, zh:"ÂÑøÂ≠ê", pinyin:"√©rzi", en:"son", ru:"—Å—ã–Ω", cat:"nouns" },
  { id:58, zh:"Â•≥ÂÑø", pinyin:"n«ö'√©r", en:"daughter", ru:"–¥–æ—á—å", cat:"nouns" },
  { id:59, zh:"ÂÆ∂", pinyin:"jiƒÅ", en:"home, family", ru:"–¥–æ–º/—Å–µ–º—å—è", cat:"nouns" },
  { id:60, zh:"‰∏úË•ø", pinyin:"d≈çngxi", en:"thing", ru:"–≤–µ—â—å", cat:"nouns" },
  { id:61, zh:"Ê∞¥", pinyin:"shu«ê", en:"water", ru:"–≤–æ–¥–∞", cat:"nouns" },
  { id:62, zh:"Ëå∂", pinyin:"ch√°", en:"tea", ru:"—á–∞–π", cat:"nouns" },
  { id:63, zh:"Á±≥È•≠", pinyin:"m«êf√†n", en:"rice", ru:"—Ä–∏—Å", cat:"nouns" },
  { id:64, zh:"Ëèú", pinyin:"c√†i", en:"dish, vegetable", ru:"–±–ª—é–¥–æ/–æ–≤–æ—â", cat:"nouns" },
  { id:65, zh:"Ê∞¥Êûú", pinyin:"shu«êgu«í", en:"fruit", ru:"—Ñ—Ä—É–∫—Ç", cat:"nouns" },
  { id:66, zh:"ËãπÊûú", pinyin:"p√≠nggu«í", en:"apple", ru:"—è–±–ª–æ–∫–æ", cat:"nouns" },
  { id:67, zh:"ÊùØÂ≠ê", pinyin:"bƒìizi", en:"cup, glass", ru:"—á–∞—à–∫–∞/—Å—Ç–∞–∫–∞–Ω", cat:"nouns" },
  { id:68, zh:"Èí±", pinyin:"qi√°n", en:"money", ru:"–¥–µ–Ω—å–≥–∏", cat:"nouns" },
  { id:69, zh:"È£ûÊú∫", pinyin:"fƒìijƒ´", en:"airplane", ru:"—Å–∞–º–æ–ª—ë—Ç", cat:"nouns" },
  { id:70, zh:"Âá∫ÁßüËΩ¶", pinyin:"ch≈´z≈´chƒì", en:"taxi", ru:"—Ç–∞–∫—Å–∏", cat:"nouns" },
  { id:71, zh:"ÁîµËßÜ", pinyin:"di√†nsh√¨", en:"TV", ru:"—Ç–µ–ª–µ–≤–∏–∑–æ—Ä", cat:"nouns" },
  { id:72, zh:"ÁîµËÑë", pinyin:"di√†nn«éo", en:"computer", ru:"–∫–æ–º–ø—å—é—Ç–µ—Ä", cat:"nouns" },
  { id:73, zh:"ÁîµÂΩ±", pinyin:"di√†ny«êng", en:"movie", ru:"—Ñ–∏–ª—å–º", cat:"nouns" },
  { id:74, zh:"Â§©Ê∞î", pinyin:"tiƒÅnq√¨", en:"weather", ru:"–ø–æ–≥–æ–¥–∞", cat:"nouns" },
  { id:75, zh:"Áå´", pinyin:"mƒÅo", en:"cat", ru:"–∫–æ—Ç/–∫–æ—à–∫–∞", cat:"nouns" },
  { id:76, zh:"Áãó", pinyin:"g«íu", en:"dog", ru:"—Å–æ–±–∞–∫–∞", cat:"nouns" },
  { id:77, zh:"‰π¶", pinyin:"sh≈´", en:"book", ru:"–∫–Ω–∏–≥–∞", cat:"nouns" },
  { id:78, zh:"Ê°åÂ≠ê", pinyin:"zhu≈çzi", en:"table", ru:"—Å—Ç–æ–ª", cat:"nouns" },
  { id:79, zh:"Ê§ÖÂ≠ê", pinyin:"y«êzi", en:"chair", ru:"—Å—Ç—É–ª", cat:"nouns" },
  { id:80, zh:"Ë°£Êúç", pinyin:"yƒ´fu", en:"clothes", ru:"–æ–¥–µ–∂–¥–∞", cat:"nouns" },
  { id:81, zh:"‰∏≠ÂõΩ", pinyin:"Zh≈çnggu√≥", en:"China", ru:"–ö–∏—Ç–∞–π", cat:"nouns" },
  { id:82, zh:"Âåó‰∫¨", pinyin:"Bƒõijƒ´ng", en:"Beijing", ru:"–ü–µ–∫–∏–Ω", cat:"nouns" },
  { id:83, zh:"Â≠¶Ê†°", pinyin:"xu√©xi√†o", en:"school", ru:"—à–∫–æ–ª–∞", cat:"nouns" },
  { id:84, zh:"ÂåªÈô¢", pinyin:"yƒ´yu√†n", en:"hospital", ru:"–±–æ–ª—å–Ω–∏—Ü–∞", cat:"nouns" },
  { id:85, zh:"ÂïÜÂ∫ó", pinyin:"shƒÅngdi√†n", en:"shop, store", ru:"–º–∞–≥–∞–∑–∏–Ω", cat:"nouns" },
  { id:86, zh:"È•≠Â∫ó", pinyin:"f√†ndi√†n", en:"restaurant, hotel", ru:"—Ä–µ—Å—Ç–æ—Ä–∞–Ω", cat:"nouns" },
  { id:87, zh:"ÂâçÈù¢", pinyin:"qi√°nmi√†n", en:"front", ru:"–≤–ø–µ—Ä–µ–¥–∏", cat:"nouns" },
  { id:88, zh:"ÂêéÈù¢", pinyin:"h√≤umi√†n", en:"back, behind", ru:"—Å–∑–∞–¥–∏", cat:"nouns" },
  { id:89, zh:"ÈáåÈù¢", pinyin:"l«êmi√†n", en:"inside", ru:"–≤–Ω—É—Ç—Ä–∏", cat:"nouns" },
  { id:90, zh:"‰∏ä", pinyin:"sh√†ng", en:"up, on", ru:"—Å–≤–µ—Ä—Ö—É/–Ω–∞", cat:"nouns" },
  { id:91, zh:"‰∏ã", pinyin:"xi√†", en:"down, under", ru:"—Å–Ω–∏–∑—É/–ø–æ–¥", cat:"nouns" },
  { id:92, zh:"‰ªäÂ§©", pinyin:"jƒ´ntiƒÅn", en:"today", ru:"—Å–µ–≥–æ–¥–Ω—è", cat:"time" },
  { id:93, zh:"ÊòéÂ§©", pinyin:"m√≠ngtiƒÅn", en:"tomorrow", ru:"–∑–∞–≤—Ç—Ä–∞", cat:"time" },
  { id:94, zh:"Êò®Â§©", pinyin:"zu√≥tiƒÅn", en:"yesterday", ru:"–≤—á–µ—Ä–∞", cat:"time" },
  { id:95, zh:"Áé∞Âú®", pinyin:"xi√†nz√†i", en:"now", ru:"—Å–µ–π—á–∞—Å", cat:"time" },
  { id:96, zh:"Êó∂ÂÄô", pinyin:"sh√≠hou", en:"time, moment", ru:"–≤—Ä–µ–º—è/–º–æ–º–µ–Ω—Ç", cat:"time" },
  { id:97, zh:"Âπ¥", pinyin:"ni√°n", en:"year", ru:"–≥–æ–¥", cat:"time" },
  { id:98, zh:"Êúà", pinyin:"yu√®", en:"month", ru:"–º–µ—Å—è—Ü", cat:"time" },
  { id:99, zh:"Êó•", pinyin:"r√¨", en:"day, date", ru:"–¥–µ–Ω—å/–¥–∞—Ç–∞", cat:"time" },
  { id:100, zh:"ÊòüÊúü", pinyin:"xƒ´ngqƒ´", en:"week", ru:"–Ω–µ–¥–µ–ª—è", cat:"time" },
  { id:101, zh:"ÁÇπ", pinyin:"di«én", en:"o'clock", ru:"—á–∞—Å (–≤—Ä–µ–º—è)", cat:"time" },
  { id:102, zh:"ÂàÜÈíü", pinyin:"fƒìnzh≈çng", en:"minute", ru:"–º–∏–Ω—É—Ç–∞", cat:"time" },
  { id:103, zh:"‰∏äÂçà", pinyin:"sh√†ngw«î", en:"morning", ru:"—É—Ç—Ä–æ", cat:"time" },
  { id:104, zh:"‰∏≠Âçà", pinyin:"zh≈çngw«î", en:"noon", ru:"–ø–æ–ª–¥–µ–Ω—å", cat:"time" },
  { id:105, zh:"‰∏ãÂçà", pinyin:"xi√†w«î", en:"afternoon", ru:"–ø–æ—Å–ª–µ –æ–±–µ–¥–∞", cat:"time" },
  { id:106, zh:"‰∏Ä", pinyin:"yƒ´", en:"one", ru:"–æ–¥–∏–Ω", cat:"numbers" },
  { id:107, zh:"‰∫å", pinyin:"√®r", en:"two", ru:"–¥–≤–∞", cat:"numbers" },
  { id:108, zh:"‰∏â", pinyin:"sƒÅn", en:"three", ru:"—Ç—Ä–∏", cat:"numbers" },
  { id:109, zh:"Âõõ", pinyin:"s√¨", en:"four", ru:"—á–µ—Ç—ã—Ä–µ", cat:"numbers" },
  { id:110, zh:"‰∫î", pinyin:"w«î", en:"five", ru:"–ø—è—Ç—å", cat:"numbers" },
  { id:111, zh:"ÂÖ≠", pinyin:"li√π", en:"six", ru:"—à–µ—Å—Ç—å", cat:"numbers" },
  { id:112, zh:"‰∏É", pinyin:"qƒ´", en:"seven", ru:"—Å–µ–º—å", cat:"numbers" },
  { id:113, zh:"ÂÖ´", pinyin:"bƒÅ", en:"eight", ru:"–≤–æ—Å–µ–º—å", cat:"numbers" },
  { id:114, zh:"‰πù", pinyin:"ji«î", en:"nine", ru:"–¥–µ–≤—è—Ç—å", cat:"numbers" },
  { id:115, zh:"ÂçÅ", pinyin:"sh√≠", en:"ten", ru:"–¥–µ—Å—è—Ç—å", cat:"numbers" },
  { id:116, zh:"Èõ∂", pinyin:"l√≠ng", en:"zero", ru:"–Ω–æ–ª—å", cat:"numbers" },
  { id:117, zh:"Áôæ", pinyin:"b«éi", en:"hundred", ru:"—Å—Ç–æ", cat:"numbers" },
  { id:118, zh:"Â•Ω", pinyin:"h«éo", en:"good", ru:"—Ö–æ—Ä–æ—à–∏–π", cat:"adjectives" },
  { id:119, zh:"Â§ß", pinyin:"d√†", en:"big", ru:"–±–æ–ª—å—à–æ–π", cat:"adjectives" },
  { id:120, zh:"Â∞è", pinyin:"xi«éo", en:"small", ru:"–º–∞–ª–µ–Ω—å–∫–∏–π", cat:"adjectives" },
  { id:121, zh:"Â§ö", pinyin:"du≈ç", en:"many, much", ru:"–º–Ω–æ–≥–æ", cat:"adjectives" },
  { id:122, zh:"Â∞ë", pinyin:"sh«éo", en:"few, little", ru:"–º–∞–ª–æ", cat:"adjectives" },
  { id:123, zh:"ÂÜ∑", pinyin:"lƒõng", en:"cold", ru:"—Ö–æ–ª–æ–¥–Ω—ã–π", cat:"adjectives" },
  { id:124, zh:"ÁÉ≠", pinyin:"r√®", en:"hot", ru:"–≥–æ—Ä—è—á–∏–π/–∂–∞—Ä–∫–∏–π", cat:"adjectives" },
  { id:125, zh:"È´òÂÖ¥", pinyin:"gƒÅox√¨ng", en:"happy", ru:"—Ä–∞–¥–æ—Å—Ç–Ω—ã–π/—Ä–∞–¥", cat:"adjectives" },
  { id:126, zh:"ÊºÇ‰∫Æ", pinyin:"pi√†oliang", en:"beautiful", ru:"–∫—Ä–∞—Å–∏–≤—ã–π", cat:"adjectives" },
  { id:127, zh:"‰∏ç", pinyin:"b√π", en:"not", ru:"–Ω–µ", cat:"grammar" },
  { id:128, zh:"Ê≤°", pinyin:"m√©i", en:"not (have)", ru:"–Ω–µ (–±—ã–ª–æ)", cat:"grammar" },
  { id:129, zh:"Âæà", pinyin:"hƒõn", en:"very", ru:"–æ—á–µ–Ω—å", cat:"grammar" },
  { id:130, zh:"Â§™", pinyin:"t√†i", en:"too (much)", ru:"—Å–ª–∏—à–∫–æ–º", cat:"grammar" },
  { id:131, zh:"ÈÉΩ", pinyin:"d≈çu", en:"all, both", ru:"–≤—Å–µ/–æ–±–∞", cat:"grammar" },
  { id:132, zh:"‰πü", pinyin:"yƒõ", en:"also", ru:"—Ç–æ–∂–µ", cat:"grammar" },
  { id:133, zh:"‰∫Ü", pinyin:"le", en:"(completed action)", ru:"(–∑–∞–≤–µ—Ä—à–µ–Ω–æ)", cat:"grammar" },
  { id:134, zh:"ÁöÑ", pinyin:"de", en:"(possessive)", ru:"(–ø—Ä–∏—Ç—è–∂.)", cat:"grammar" },
  { id:135, zh:"Âêó", pinyin:"ma", en:"(question)", ru:"(–≤–æ–ø—Ä–æ—Å?)", cat:"grammar" },
  { id:136, zh:"Âë¢", pinyin:"ne", en:"(and you?)", ru:"(–∞ —Ç—ã?)", cat:"grammar" },
  { id:137, zh:"Âú®", pinyin:"z√†i", en:"at, in", ru:"–≤/–Ω–∞ (–º–µ—Å—Ç–æ)", cat:"grammar" },
  { id:138, zh:"Âíå", pinyin:"h√©", en:"and", ru:"–∏", cat:"grammar" },
  { id:139, zh:"‰∏™", pinyin:"g√®", en:"(measure word)", ru:"(—Å—á—ë—Ç–Ω–æ–µ —Å–ª.)", cat:"grammar" },
  { id:140, zh:"Â≤Å", pinyin:"su√¨", en:"years old", ru:"–ª–µ—Ç (–≤–æ–∑—Ä–∞—Å—Ç)", cat:"grammar" },
  { id:141, zh:"Âùó", pinyin:"ku√†i", en:"(money MW)", ru:"—é–∞–Ω—å (—Å—á.)", cat:"grammar" },
  { id:142, zh:"Êú¨", pinyin:"bƒõn", en:"(book MW)", ru:"(—Å—á. –∫–Ω–∏–≥)", cat:"grammar" },
  { id:143, zh:"‰∫õ", pinyin:"xiƒì", en:"some", ru:"–Ω–µ—Å–∫–æ–ª—å–∫–æ", cat:"grammar" },
  { id:144, zh:"ÂØπ‰∏çËµ∑", pinyin:"du√¨buq«ê", en:"sorry", ru:"–∏–∑–≤–∏–Ω–∏—Ç–µ", cat:"grammar" },
  { id:145, zh:"Ê≤°ÂÖ≥Á≥ª", pinyin:"m√©i guƒÅnxi", en:"it's okay", ru:"–Ω–∏—á–µ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≥–æ", cat:"grammar" },
  { id:146, zh:"Ë∞¢Ë∞¢", pinyin:"xi√®xie", en:"thank you", ru:"—Å–ø–∞—Å–∏–±–æ", cat:"grammar" },
  { id:147, zh:"‰∏çÂÆ¢Ê∞î", pinyin:"b√∫ k√®qi", en:"you're welcome", ru:"–Ω–µ –∑–∞ —á—Ç–æ", cat:"grammar" },
  { id:148, zh:"ÂÜçËßÅ", pinyin:"z√†iji√†n", en:"goodbye", ru:"–¥–æ —Å–≤–∏–¥–∞–Ω–∏—è", cat:"grammar" },
  { id:149, zh:"‰Ω†Â•Ω", pinyin:"n«ê h«éo", en:"hello", ru:"–ø—Ä–∏–≤–µ—Ç", cat:"grammar" },
  { id:150, zh:"ÂêçÂ≠ó", pinyin:"m√≠ngzi", en:"name", ru:"–∏–º—è", cat:"nouns" },
];

const SENTENCES_ZH = [
  { parts:["Êàë","ÊòØ","Â≠¶Áîü"], pinyin:"W«í sh√¨ xu√©sheng", en:"I am a student" },
  { parts:["‰Ω†","ÂñúÊ¨¢","ÂêÉ","Ê∞¥Êûú","Âêó"], pinyin:"N«ê x«êhuan chƒ´ shu«êgu«í ma", en:"Do you like to eat fruit?" },
  { parts:["‰ªñ","Âú®","Â≠¶Ê†°","Â∑•‰Ωú"], pinyin:"TƒÅ z√†i xu√©xi√†o g≈çngzu√≤", en:"He works at school" },
  { parts:["‰ªäÂ§©","Â§©Ê∞î","Âæà","Â•Ω"], pinyin:"Jƒ´ntiƒÅn tiƒÅnq√¨ hƒõn h«éo", en:"The weather is very good today" },
  { parts:["Êàë","ÊÉ≥","Âñù","Ëå∂"], pinyin:"W«í xi«éng hƒì ch√°", en:"I want to drink tea" },
  { parts:["Â•π","Êúâ","‰∏â","‰∏™","ÊúãÂèã"], pinyin:"TƒÅ y«íu sƒÅn g√® p√©ngyou", en:"She has three friends" },
  { parts:["‰Ω†","‰ºö","ËØ¥","‰∏≠Êñá","Âêó"], pinyin:"N«ê hu√¨ shu≈ç Zh≈çngw√©n ma", en:"Can you speak Chinese?", extra:["‰∏≠Êñá"] },
  { parts:["Êàë‰ª¨","ÊòéÂ§©","Âéª","Âåó‰∫¨"], pinyin:"W«ímen m√≠ngtiƒÅn q√π Bƒõijƒ´ng", en:"We go to Beijing tomorrow" },
  { parts:["Ëøô","‰∏™","‰∏úË•ø","Â§öÂ∞ë","Èí±"], pinyin:"Zh√® g√® d≈çngxi du≈çshao qi√°n", en:"How much does this cost?" },
  { parts:["‰ªñ","‰∏ç","ÂñúÊ¨¢","Áúã","ÁîµËßÜ"], pinyin:"TƒÅ b√π x«êhuan k√†n di√†nsh√¨", en:"He doesn't like watching TV" },
  { parts:["Â¶àÂ¶à","‰π∞","‰∫Ü","ËãπÊûú"], pinyin:"MƒÅma m«éi le p√≠nggu«í", en:"Mom bought apples" },
  { parts:["Êàë","ÁöÑ","Áå´","Âæà","Â∞è"], pinyin:"W«í de mƒÅo hƒõn xi«éo", en:"My cat is very small" },
  { parts:["Áà∏Áà∏","Âú®","ÂÆ∂","ÈáåÈù¢"], pinyin:"B√†ba z√†i jiƒÅ l«êmi√†n", en:"Dad is inside the house" },
  { parts:["ËØ∑","Âùê","Ëøô","‰∏™","Ê§ÖÂ≠ê"], pinyin:"Q«êng zu√≤ zh√® g√® y«êzi", en:"Please sit on this chair" },
  { parts:["Êàë","ËÆ§ËØÜ","ÈÇ£","‰∏™","ÂåªÁîü"], pinyin:"W«í r√®nshi n√† g√® yƒ´shƒìng", en:"I know that doctor" },
  { parts:["Áé∞Âú®","Âá†","ÁÇπ"], pinyin:"Xi√†nz√†i j«ê di«én", en:"What time is it now?" },
  { parts:["‰Ω†","Âè´","‰ªÄ‰πà","ÂêçÂ≠ó"], pinyin:"N«ê ji√†o sh√©nme m√≠ngzi", en:"What is your name?" },
  { parts:["Â•π","‰πü","ÊòØ","ËÄÅÂ∏à"], pinyin:"TƒÅ yƒõ sh√¨ l«éoshƒ´", en:"She is also a teacher" },
  { parts:["Êàë","Êò®Â§©","Ê≤°","Áù°Ëßâ"], pinyin:"W«í zu√≥tiƒÅn m√©i shu√¨ji√†o", en:"I didn't sleep yesterday" },
  { parts:["‰ªñ‰ª¨","ÈÉΩ","Âæà","È´òÂÖ¥"], pinyin:"TƒÅmen d≈çu hƒõn gƒÅox√¨ng", en:"They are all very happy" },
  { parts:["Ëøô","Êú¨","‰π¶","Âæà","Â•Ω"], pinyin:"Zh√® bƒõn sh≈´ hƒõn h«éo", en:"This book is very good" },
  { parts:["‰Ω†","ÊÉ≥","ÂêÉ","Á±≥È•≠","Âêó"], pinyin:"N«ê xi«éng chƒ´ m«êf√†n ma", en:"Do you want to eat rice?" },
  { parts:["Êàë","ÁöÑ","ÊúãÂèã","Êù•","‰∫Ü"], pinyin:"W«í de p√©ngyou l√°i le", en:"My friend has come" },
  { parts:["‰∏ãÂçà","Êàë","Âéª","ÂïÜÂ∫ó"], pinyin:"Xi√†w«î w«í q√π shƒÅngdi√†n", en:"In the afternoon I go to the store" },
];

const WORD_ORDER = [
  { ru_natural:"–°–µ–≥–æ–¥–Ω—è –ø–æ–≥–æ–¥–∞ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∞—è", ru_cn_order:["–°–µ–≥–æ–¥–Ω—è","–ø–æ–≥–æ–¥–∞","–æ—á–µ–Ω—å","—Ö–æ—Ä–æ—à–∞—è"], zh:"‰ªäÂ§©Â§©Ê∞îÂæàÂ•Ω", pinyin:"Jƒ´ntiƒÅn tiƒÅnq√¨ hƒõn h«éo", hint:"–í—Ä–µ–º—è ‚Üí –ü–æ–¥–ª–µ–∂–∞—â–µ–µ ‚Üí –ù–∞—Ä–µ—á–∏–µ ‚Üí –ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ" },
  { ru_natural:"–Ø —Å—Ç—É–¥–µ–Ω—Ç", ru_cn_order:["–Ø","–µ—Å—Ç—å","—Å—Ç—É–¥–µ–Ω—Ç"], zh:"ÊàëÊòØÂ≠¶Áîü", pinyin:"W«í sh√¨ xu√©sheng", hint:"–ü–æ–¥–ª–µ–∂–∞—â–µ–µ ‚Üí ÊòØ (–µ—Å—Ç—å) ‚Üí –ö—Ç–æ" },
  { ru_natural:"–ú—ã –∑–∞–≤—Ç—Ä–∞ –ø–æ–µ–¥–µ–º –≤ –ü–µ–∫–∏–Ω", ru_cn_order:["–ú—ã","–∑–∞–≤—Ç—Ä–∞","–ø–æ–µ–¥–µ–º","–ü–µ–∫–∏–Ω"], zh:"Êàë‰ª¨ÊòéÂ§©ÂéªÂåó‰∫¨", pinyin:"W«ímen m√≠ngtiƒÅn q√π Bƒõijƒ´ng", hint:"–ü–æ–¥–ª–µ–∂–∞—â–µ–µ ‚Üí –í—Ä–µ–º—è ‚Üí –ì–ª–∞–≥–æ–ª ‚Üí –ú–µ—Å—Ç–æ" },
  { ru_natural:"–û–Ω –Ω–µ –ª—é–±–∏—Ç —Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–ª–µ–≤–∏–∑–æ—Ä", ru_cn_order:["–û–Ω","–Ω–µ","–ª—é–±–∏—Ç","—Å–º–æ—Ç—Ä–µ—Ç—å","—Ç–µ–ª–µ–≤–∏–∑–æ—Ä"], zh:"‰ªñ‰∏çÂñúÊ¨¢ÁúãÁîµËßÜ", pinyin:"TƒÅ b√π x«êhuan k√†n di√†nsh√¨", hint:"–ü–æ–¥–ª–µ–∂–∞—â–µ–µ ‚Üí –û—Ç—Ä–∏—Ü–∞–Ω–∏–µ ‚Üí –ì–ª–∞–≥–æ–ª ‚Üí –ì–ª–∞–≥–æ–ª ‚Üí –û–±—ä–µ–∫—Ç" },
  { ru_natural:"–ú–∞–º–∞ –∫—É–ø–∏–ª–∞ —è–±–ª–æ–∫–∏", ru_cn_order:["–ú–∞–º–∞","–∫—É–ø–∏–ª–∞","‰∫Ü","—è–±–ª–æ–∫–∏"], zh:"Â¶àÂ¶à‰π∞‰∫ÜËãπÊûú", pinyin:"MƒÅma m«éi le p√≠nggu«í", hint:"–ü–æ–¥–ª–µ–∂–∞—â–µ–µ ‚Üí –ì–ª–∞–≥–æ–ª ‚Üí ‰∫Ü ‚Üí –û–±—ä–µ–∫—Ç" },
  { ru_natural:"–¢—ã —É–º–µ–µ—à—å –≥–æ–≤–æ—Ä–∏—Ç—å –ø–æ-–∫–∏—Ç–∞–π—Å–∫–∏?", ru_cn_order:["–¢—ã","—É–º–µ–µ—à—å","–≥–æ–≤–æ—Ä–∏—Ç—å","–ø–æ-–∫–∏—Ç–∞–π—Å–∫–∏","?Âêó"], zh:"‰Ω†‰ºöËØ¥‰∏≠ÊñáÂêó", pinyin:"N«ê hu√¨ shu≈ç Zh≈çngw√©n ma", hint:"–ü–æ–¥–ª–µ–∂–∞—â–µ–µ ‚Üí –ú–æ—á—å ‚Üí –ì–ª–∞–≥–æ–ª ‚Üí –û–±—ä–µ–∫—Ç ‚Üí Âêó?" },
  { ru_natural:"–Ø —Ö–æ—á—É –ø–∏—Ç—å —á–∞–π", ru_cn_order:["–Ø","—Ö–æ—á—É","–ø–∏—Ç—å","—á–∞–π"], zh:"ÊàëÊÉ≥ÂñùËå∂", pinyin:"W«í xi«éng hƒì ch√°", hint:"–ü–æ–¥–ª–µ–∂–∞—â–µ–µ ‚Üí –•–æ—Ç–µ—Ç—å ‚Üí –ì–ª–∞–≥–æ–ª ‚Üí –û–±—ä–µ–∫—Ç" },
  { ru_natural:"–£ –Ω–µ—ë –µ—Å—Ç—å —Ç—Ä–∏ –¥—Ä—É–≥–∞", ru_cn_order:["–û–Ω–∞","–∏–º–µ–µ—Ç","—Ç—Ä–∏","—à—Ç.","–¥—Ä—É–≥–∞"], zh:"Â•πÊúâ‰∏â‰∏™ÊúãÂèã", pinyin:"TƒÅ y«íu sƒÅn g√® p√©ngyou", hint:"–ü–æ–¥–ª–µ–∂–∞—â–µ–µ ‚Üí –ò–º–µ—Ç—å ‚Üí –ß–∏—Å–ª–æ ‚Üí –°—á—ë—Ç–Ω–æ–µ ‚Üí –û–±—ä–µ–∫—Ç" },
  { ru_natural:"–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?", ru_cn_order:["–¢—ã","–∑–æ–≤—É—Ç","–∫–∞–∫","–∏–º—è"], zh:"‰Ω†Âè´‰ªÄ‰πàÂêçÂ≠ó", pinyin:"N«ê ji√†o sh√©nme m√≠ngzi", hint:"–¢—ã ‚Üí –ó–≤–∞—Ç—å—Å—è ‚Üí –ö–∞–∫–æ–µ ‚Üí –ò–º—è" },
  { ru_natural:"–ú–æ—è –∫–æ—à–∫–∞ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∞—è", ru_cn_order:["–Ø","-ÁöÑ-","–∫–æ—à–∫–∞","–æ—á–µ–Ω—å","–º–∞–ª–µ–Ω—å–∫–∞—è"], zh:"ÊàëÁöÑÁå´ÂæàÂ∞è", pinyin:"W«í de mƒÅo hƒõn xi«éo", hint:"–Ø ‚Üí ÁöÑ (–º–æ—è) ‚Üí –ö–æ—à–∫–∞ ‚Üí –û—á–µ–Ω—å ‚Üí –ü—Ä–∏–ª–∞–≥–∞—Ç." },
  { ru_natural:"–û–Ω–∞ —Ç–æ–∂–µ —É—á–∏—Ç–µ–ª—å", ru_cn_order:["–û–Ω–∞","—Ç–æ–∂–µ","–µ—Å—Ç—å","—É—á–∏—Ç–µ–ª—å"], zh:"Â•π‰πüÊòØËÄÅÂ∏à", pinyin:"TƒÅ yƒõ sh√¨ l«éoshƒ´", hint:"–ü–æ–¥–ª–µ–∂–∞—â–µ–µ ‚Üí –¢–æ–∂–µ ‚Üí ÊòØ ‚Üí –ö—Ç–æ" },
  { ru_natural:"–Ø –≤—á–µ—Ä–∞ –Ω–µ —Å–ø–∞–ª", ru_cn_order:["–Ø","–≤—á–µ—Ä–∞","–Ω–µ","—Å–ø–∞–ª"], zh:"ÊàëÊò®Â§©Ê≤°Áù°Ëßâ", pinyin:"W«í zu√≥tiƒÅn m√©i shu√¨ji√†o", hint:"–ü–æ–¥–ª–µ–∂–∞—â–µ–µ ‚Üí –í—Ä–µ–º—è ‚Üí –û—Ç—Ä–∏—Ü–∞–Ω–∏–µ ‚Üí –ì–ª–∞–≥–æ–ª" },
  { ru_natural:"–û–Ω–∏ –≤—Å–µ –æ—á–µ–Ω—å —Ä–∞–¥—ã", ru_cn_order:["–û–Ω–∏","–≤—Å–µ","–æ—á–µ–Ω—å","—Ä–∞–¥—ã"], zh:"‰ªñ‰ª¨ÈÉΩÂæàÈ´òÂÖ¥", pinyin:"TƒÅmen d≈çu hƒõn gƒÅox√¨ng", hint:"–ü–æ–¥–ª–µ–∂–∞—â–µ–µ ‚Üí –í—Å–µ ‚Üí –û—á–µ–Ω—å ‚Üí –ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ" },
  { ru_natural:"–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç —ç—Ç–∞ –≤–µ—â—å?", ru_cn_order:["–≠—Ç–∞","—à—Ç.","–≤–µ—â—å","—Å–∫–æ–ª—å–∫–æ","–¥–µ–Ω–µ–≥"], zh:"Ëøô‰∏™‰∏úË•øÂ§öÂ∞ëÈí±", pinyin:"Zh√® g√® d≈çngxi du≈çshao qi√°n", hint:"–£–∫–∞–∑–∞—Ç–µ–ª—å ‚Üí –°—á—ë—Ç–Ω–æ–µ ‚Üí –û–±—ä–µ–∫—Ç ‚Üí –°–∫–æ–ª—å–∫–æ ‚Üí –î–µ–Ω—å–≥–∏" },
  { ru_natural:"–ü–∞–ø–∞ –¥–æ–º–∞", ru_cn_order:["–ü–∞–ø–∞","–≤","–¥–æ–º–µ","–≤–Ω—É—Ç—Ä–∏"], zh:"Áà∏Áà∏Âú®ÂÆ∂ÈáåÈù¢", pinyin:"B√†ba z√†i jiƒÅ l«êmi√†n", hint:"–ü–æ–¥–ª–µ–∂–∞—â–µ–µ ‚Üí Âú® ‚Üí –ú–µ—Å—Ç–æ ‚Üí –í–Ω—É—Ç—Ä–∏" },
  { ru_natural:"–ü–æ—Å–ª–µ –æ–±–µ–¥–∞ —è –∏–¥—É –≤ –º–∞–≥–∞–∑–∏–Ω", ru_cn_order:["–ü–æ—Å–ª–µ –æ–±–µ–¥–∞","—è","–∏–¥—É","–º–∞–≥–∞–∑–∏–Ω"], zh:"‰∏ãÂçàÊàëÂéªÂïÜÂ∫ó", pinyin:"Xi√†w«î w«í q√π shƒÅngdi√†n", hint:"–í—Ä–µ–º—è ‚Üí –ü–æ–¥–ª–µ–∂–∞—â–µ–µ ‚Üí –ì–ª–∞–≥–æ–ª ‚Üí –ú–µ—Å—Ç–æ" },
  { ru_natural:"–ö–æ—Ç–æ—Ä—ã–π —Å–µ–π—á–∞—Å —á–∞—Å?", ru_cn_order:["–°–µ–π—á–∞—Å","—Å–∫–æ–ª—å–∫–æ","—á–∞—Å–æ–≤"], zh:"Áé∞Âú®Âá†ÁÇπ", pinyin:"Xi√†nz√†i j«ê di«én", hint:"–í—Ä–µ–º—è ‚Üí –°–∫–æ–ª—å–∫–æ ‚Üí –ï–¥–∏–Ω–∏—Ü–∞" },
  { ru_natural:"–ú–æ–π –¥—Ä—É–≥ –ø—Ä–∏—à—ë–ª", ru_cn_order:["–Ø","-ÁöÑ-","–¥—Ä—É–≥","–ø—Ä–∏—à—ë–ª","‰∫Ü"], zh:"ÊàëÁöÑÊúãÂèãÊù•‰∫Ü", pinyin:"W«í de p√©ngyou l√°i le", hint:"–Ø ‚Üí ÁöÑ ‚Üí –î—Ä—É–≥ ‚Üí –ì–ª–∞–≥–æ–ª ‚Üí ‰∫Ü" },
];

const PINYIN_MAP = Object.fromEntries([...HSK1_VOCAB.map(w => [w.zh, w.pinyin]), ["‰∏≠Êñá","Zh≈çngw√©n"]]);
const CATEGORIES = { pronouns:"–ú–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è", verbs:"–ì–ª–∞–≥–æ–ª—ã", nouns:"–°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ", time:"–í—Ä–µ–º—è", numbers:"–ß–∏—Å–ª–∞", adjectives:"–ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ", grammar:"–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞" };
const CAT_COLORS = { pronouns:"#E8B4B8", verbs:"#B8D4E3", nouns:"#D4C5A9", time:"#C5B8D4", numbers:"#A9D4B8", adjectives:"#E3C8B8", grammar:"#B8C5D4" };

function shuffle(a) { const b=[...a]; for(let i=b.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[b[i],b[j]]=[b[j],b[i]];} return b; }

// ‚îÄ‚îÄ‚îÄ QUIZ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function QuizMode({ isMobile }) {
  const [scores, setScores] = useState(() => { const s={}; HSK1_VOCAB.forEach(w=>s[w.id]=0); return s; });
  const [word, setWord] = useState(null);
  const [opts, setOpts] = useState([]);
  const [sel, setSel] = useState(null);
  const [status, setStatus] = useState(null);
  const [filterCat, setFilterCat] = useState("all");

  const learned = Object.values(scores).filter(v=>v>=5).length;
  const progress = Math.round((learned/HSK1_VOCAB.length)*100);

  const pick = (sc) => {
    const pool = (filterCat==="all"?HSK1_VOCAB:HSK1_VOCAB.filter(w=>w.cat===filterCat)).filter(w=>(sc||scores)[w.id]<5);
    if(!pool.length) { setWord(null); return; }
    const weighted = pool.flatMap(w=>Array(5-(sc||scores)[w.id]).fill(w));
    const w = weighted[Math.floor(Math.random()*weighted.length)];
    const wrongPool = HSK1_VOCAB.filter(x=>x.id!==w.id);
    const sameCat = wrongPool.filter(x=>x.cat===w.cat);
    const wrongs = shuffle(sameCat.length>=3?sameCat:wrongPool).slice(0,3);
    setOpts(shuffle([{id:w.id,text:w.ru,correct:true},...wrongs.map(x=>({id:x.id,text:x.ru,correct:false}))]));
    setWord(w); setSel(null); setStatus(null);
  };

  useEffect(()=>{ pick(); },[filterCat]);

  const answer = (o) => {
    if(status) return;
    setSel(o.id);
    let newScores;
    if(o.correct) {
      setStatus("correct");
      newScores = {...scores,[word.id]:Math.min(scores[word.id]+1,5)};
    } else {
      setStatus("wrong");
      newScores = {...scores,[word.id]:Math.max(scores[word.id]-1,0)};
    }
    setScores(newScores);
    setTimeout(()=>pick(newScores),1100);
  };

  const reset = () => { const s={}; HSK1_VOCAB.forEach(w=>s[w.id]=0); setScores(s); setTimeout(()=>pick(s),50); };

  if(!word) return (
    <div style={{textAlign:"center",padding:40}}>
      <div style={{fontSize:48,marginBottom:16}}>üéâ</div>
      <div style={{fontSize:20,color:"#f0e6d3",marginBottom:8}}>–í—Å–µ —Å–ª–æ–≤–∞ –≤—ã—É—á–µ–Ω—ã!</div>
      <div style={{fontSize:14,color:"rgba(240,230,211,0.5)",marginBottom:24}}>–ö–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ —É–≥–∞–¥–∞–Ω–æ 5 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥</div>
      <button onClick={reset} style={{background:"rgba(240,230,211,0.08)",border:"1px solid rgba(240,230,211,0.15)",borderRadius:12,padding:"12px 28px",color:"#f0e6d3",cursor:"pointer",fontSize:14}}>–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
    </div>
  );

  return (
    <div>
      <div style={{maxWidth:400,margin:"0 auto 16px"}}>
        <div style={{display:"flex",justifyContent:"space-between",fontSize:12,color:"rgba(240,230,211,0.4)",marginBottom:5}}>
          <span>–ò–∑—É—á–µ–Ω–æ: {learned}/{HSK1_VOCAB.length}</span><span>{progress}%</span>
        </div>
        <div style={{height:3,background:"rgba(240,230,211,0.06)",borderRadius:3,overflow:"hidden"}}>
          <div style={{height:"100%",width:`${progress}%`,background:"linear-gradient(90deg,#c0392b,#e74c3c)",borderRadius:3,transition:"width 0.5s"}}/>
        </div>
      </div>

      <div style={{display:"flex",flexWrap:"wrap",gap:4,justifyContent:"center",marginBottom:20}}>
        {[["all","–í—Å–µ"],...Object.entries(CATEGORIES)].map(([k,l])=>(
          <button key={k} onClick={()=>setFilterCat(k)} style={{background:filterCat===k?"rgba(240,230,211,0.1)":"transparent",border:`1px solid ${filterCat===k?(k==="all"?"rgba(240,230,211,0.2)":CAT_COLORS[k]+"60"):"rgba(240,230,211,0.06)"}`,borderRadius:16,padding:"4px 10px",color:filterCat===k?(k==="all"?"#f0e6d3":CAT_COLORS[k]):"rgba(240,230,211,0.3)",cursor:"pointer",fontSize:11}}>{l}</button>
        ))}
      </div>

      <div style={{maxWidth:isMobile?"100%":380,margin:"0 auto 24px",background:"linear-gradient(135deg,#1a1a2e,#16213e)",borderRadius:isMobile?16:20,padding:isMobile?"28px 16px":"36px 24px",textAlign:"center",border:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"}}>
        <div style={{fontSize:isMobile?56:72,fontFamily:"'Noto Serif SC',serif",fontWeight:300,color:"#f0e6d3",letterSpacing:6,lineHeight:1.1}}>{word.zh}</div>
        <div style={{marginTop:8,fontSize:isMobile?16:20,color:"rgba(192,57,43,0.6)",fontStyle:"italic",fontFamily:"'Crimson Text',serif"}}>{word.pinyin}</div>
        <div style={{marginTop:12,display:"flex",justifyContent:"center",gap:6}}>
          {[0,1,2,3,4].map(i=><div key={i} style={{width:8,height:8,borderRadius:"50%",background:i<scores[word.id]?"#27ae60":"rgba(240,230,211,0.1)",transition:"background 0.3s"}}/>)}
        </div>
        <div style={{marginTop:6,fontSize:10,color:"rgba(240,230,211,0.2)"}}>{scores[word.id]}/5</div>
      </div>

      <div style={{maxWidth:400,margin:"0 auto",display:"grid",gap:isMobile?8:10}}>
        {opts.map(o=>{
          let bg="rgba(240,230,211,0.06)",bd="1px solid rgba(240,230,211,0.1)",cl="#f0e6d3";
          if(status&&o.correct){bg="rgba(39,174,96,0.2)";bd="1px solid #27ae60";cl="#27ae60";}
          else if(status==="wrong"&&sel===o.id){bg="rgba(192,57,43,0.2)";bd="1px solid #c0392b";cl="#c0392b";}
          return <button key={o.id+o.text} onClick={()=>answer(o)} style={{background:bg,border:bd,borderRadius:12,padding:isMobile?"14px 16px":"16px 20px",color:cl,cursor:status?"default":"pointer",fontSize:isMobile?15:16,textAlign:"left",transition:"all 0.2s"}}>{o.text}</button>;
        })}
      </div>

      <div style={{textAlign:"center",marginTop:16}}>
        <button onClick={reset} style={{background:"transparent",border:"1px solid rgba(240,230,211,0.08)",borderRadius:10,padding:"6px 14px",color:"rgba(240,230,211,0.25)",cursor:"pointer",fontSize:12}}>–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
      </div>
    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ SENTENCE BUILDER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function SentenceBuilder({ sentence, onComplete, isMobile }) {
  const [sel, setSel] = useState([]);
  const [avail, setAvail] = useState([]);
  const [status, setStatus] = useState(null);
  const [hint, setHint] = useState(false);

  useEffect(()=>{
    const all=[...sentence.parts,...(sentence.extra||[])];
    setAvail(shuffle(all).map((w,i)=>({word:w,id:`${w}-${i}`}))); setSel([]); setStatus(null); setHint(false);
  },[sentence]);

  const select=(item)=>{if(status)return;setSel(s=>[...s,item]);setAvail(a=>a.filter(x=>x.id!==item.id));};
  const deselect=(item)=>{if(status)return;setAvail(a=>[...a,item]);setSel(s=>s.filter(x=>x.id!==item.id));};

  const check=()=>{
    if(sel.map(s=>s.word).join("")===sentence.parts.join("")){setStatus("correct");setTimeout(()=>onComplete(true),1200);}
    else{setStatus("wrong");setTimeout(()=>setStatus(null),1500);}
  };

  const wb=(item,isSel)=>{
    const p=PINYIN_MAP[item.word]||"";
    return <button key={item.id} onClick={()=>isSel?deselect(item):select(item)} style={{background:isSel?"linear-gradient(135deg,#f0e6d3,#e8dcc8)":"rgba(240,230,211,0.08)",border:isSel?"none":"1px solid rgba(240,230,211,0.15)",borderRadius:isMobile?8:10,padding:isMobile?"4px 10px 6px":"6px 16px 8px",cursor:"pointer",fontFamily:"'Noto Serif SC',serif",color:isSel?"#1a1a2e":"#f0e6d3",display:"flex",flexDirection:"column",alignItems:"center",gap:1,boxShadow:isSel?"0 2px 8px rgba(0,0,0,0.2)":"none",transition:"all 0.15s"}}>
      <span style={{fontSize:isMobile?11:14,color:isSel?"rgba(192,57,43,0.8)":"rgba(192,57,43,0.7)",fontFamily:"'Crimson Text',serif",fontStyle:"italic"}}>{p}</span>
      <span style={{fontSize:isMobile?18:22}}>{item.word}</span>
    </button>;
  };

  return (
    <div style={{width:"100%",maxWidth:isMobile?"100%":520,margin:"0 auto"}}>
      <div style={{textAlign:"center",marginBottom:isMobile?20:28,padding:isMobile?"16px 12px":"20px 16px",background:"rgba(255,255,255,0.04)",borderRadius:16,border:"1px solid rgba(255,255,255,0.06)"}}>
        <div style={{fontSize:13,color:"rgba(240,230,211,0.4)",letterSpacing:2,marginBottom:8,textTransform:"uppercase"}}>–ü–µ—Ä–µ–≤–µ–¥–∏ –Ω–∞ –∫–∏—Ç–∞–π—Å–∫–∏–π</div>
        <div style={{fontSize:isMobile?18:22,color:"#f0e6d3",fontFamily:"'Crimson Text',serif"}}>{sentence.en}</div>
        {hint&&<div style={{marginTop:10,fontSize:15,color:"#c0392b",fontStyle:"italic",fontFamily:"'Crimson Text',serif"}}>{sentence.pinyin}</div>}
      </div>
      <div style={{minHeight:isMobile?64:76,background:status==="correct"?"rgba(39,174,96,0.12)":status==="wrong"?"rgba(192,57,43,0.12)":"rgba(255,255,255,0.03)",borderRadius:isMobile?12:14,border:`2px ${status==="correct"?"solid #27ae60":status==="wrong"?"solid #c0392b":"dashed rgba(240,230,211,0.15)"}`,padding:isMobile?8:12,display:"flex",flexWrap:"wrap",gap:isMobile?6:8,alignItems:"center",justifyContent:"center",marginBottom:isMobile?12:16,transition:"all 0.3s"}}>
        {sel.length===0&&<span style={{color:"rgba(240,230,211,0.2)",fontSize:isMobile?12:14}}>–†–∞—Å—Å—Ç–∞–≤—å —Å–ª–æ–≤–∞...</span>}
        {sel.map(i=>wb(i,true))}
      </div>
      <div style={{display:"flex",flexWrap:"wrap",gap:isMobile?6:8,justifyContent:"center",marginBottom:isMobile?16:24}}>
        {avail.map(i=>wb(i,false))}
      </div>
      <div style={{display:"flex",gap:isMobile?8:10,justifyContent:"center",flexWrap:"wrap"}}>
        <button onClick={()=>setHint(!hint)} style={{background:"transparent",border:"1px solid rgba(240,230,211,0.2)",borderRadius:10,padding:isMobile?"10px 16px":"10px 20px",color:"rgba(240,230,211,0.5)",cursor:"pointer",fontSize:isMobile?13:14}}>{hint?"–°–∫—Ä—ã—Ç—å":"–ü–∏–Ω—å–∏–Ω—å"}</button>
        <button onClick={check} disabled={sel.length===0||status!==null} style={{background:sel.length===0||status?"rgba(240,230,211,0.05)":"linear-gradient(135deg,#c0392b,#a93226)",border:"none",borderRadius:10,padding:isMobile?"10px 20px":"10px 28px",color:sel.length===0||status?"rgba(240,230,211,0.2)":"#f0e6d3",cursor:sel.length===0||status?"default":"pointer",fontSize:14,fontWeight:600}}>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      </div>
      {status==="correct"&&<div style={{textAlign:"center",marginTop:16,fontSize:16,color:"#27ae60",fontWeight:600}}>‚úì Â§™Â•Ω‰∫ÜÔºÅ</div>}
      {status==="wrong"&&<div style={{textAlign:"center",marginTop:16,fontSize:16,color:"#c0392b"}}>–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑</div>}
    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ WORD ORDER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function WordOrderEx({ ex, onComplete, isMobile }) {
  const [sel, setSel] = useState([]);
  const [avail, setAvail] = useState([]);
  const [status, setStatus] = useState(null);
  const [hint, setHint] = useState(false);
  const [showAns, setShowAns] = useState(false);

  useEffect(()=>{
    setAvail(shuffle(ex.ru_cn_order).map((w,i)=>({word:w,id:`${w}-${i}`}))); setSel([]); setStatus(null); setHint(false); setShowAns(false);
  },[ex]);

  const select=(item)=>{if(status)return;setSel(s=>[...s,item]);setAvail(a=>a.filter(x=>x.id!==item.id));};
  const deselect=(item)=>{if(status)return;setAvail(a=>[...a,item]);setSel(s=>s.filter(x=>x.id!==item.id));};

  const check=()=>{
    const ans=sel.map(s=>s.word);
    if(ans.length===ex.ru_cn_order.length&&ans.every((w,i)=>w===ex.ru_cn_order[i])){setStatus("correct");setTimeout(()=>onComplete(true),1500);}
    else{setStatus("wrong");setTimeout(()=>setStatus(null),1500);}
  };

  const wb=(item,isSel)=><button key={item.id} onClick={()=>isSel?deselect(item):select(item)} style={{background:isSel?"linear-gradient(135deg,#D4C5A9,#C8BA9E)":"rgba(212,197,169,0.1)",border:isSel?"none":"1px solid rgba(212,197,169,0.25)",borderRadius:isMobile?8:10,padding:isMobile?"8px 14px":"10px 18px",cursor:"pointer",color:isSel?"#1a1a2e":"#D4C5A9",fontSize:isMobile?15:17,fontWeight:500,boxShadow:isSel?"0 2px 8px rgba(0,0,0,0.2)":"none",transition:"all 0.15s"}}>{item.word}</button>;

  return (
    <div style={{width:"100%",maxWidth:isMobile?"100%":520,margin:"0 auto"}}>
      <div style={{textAlign:"center",marginBottom:isMobile?20:28,padding:isMobile?"16px 12px":"20px 16px",background:"rgba(255,255,255,0.04)",borderRadius:16,border:"1px solid rgba(255,255,255,0.06)"}}>
        <div style={{fontSize:11,color:"rgba(240,230,211,0.4)",letterSpacing:2,marginBottom:8,textTransform:"uppercase"}}>–†–∞—Å—Å—Ç–∞–≤—å —Ä—É—Å—Å–∫–∏–µ —Å–ª–æ–≤–∞ –≤ –∫–∏—Ç–∞–π—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ</div>
        <div style={{fontSize:isMobile?17:20,color:"#f0e6d3",fontWeight:500,marginBottom:6}}>{ex.ru_natural}</div>
        <div style={{fontSize:isMobile?20:24,color:"rgba(240,230,211,0.3)",fontFamily:"'Noto Serif SC',serif"}}>{ex.zh}</div>
        {hint&&<div style={{marginTop:10,fontSize:13,color:"rgba(192,57,43,0.7)",fontStyle:"italic",background:"rgba(192,57,43,0.08)",borderRadius:8,padding:"6px 12px",display:"inline-block"}}>üí° {ex.hint}</div>}
      </div>
      <div style={{minHeight:isMobile?56:64,background:status==="correct"?"rgba(39,174,96,0.12)":status==="wrong"?"rgba(192,57,43,0.12)":"rgba(255,255,255,0.03)",borderRadius:isMobile?12:14,border:`2px ${status==="correct"?"solid #27ae60":status==="wrong"?"solid #c0392b":"dashed rgba(212,197,169,0.2)"}`,padding:isMobile?8:12,display:"flex",flexWrap:"wrap",gap:isMobile?6:8,alignItems:"center",justifyContent:"center",marginBottom:isMobile?12:16,transition:"all 0.3s"}}>
        {sel.length===0&&<span style={{color:"rgba(240,230,211,0.2)",fontSize:isMobile?12:14}}>–†–∞—Å—Å—Ç–∞–≤—å —Å–ª–æ–≤–∞...</span>}
        {sel.map(i=>wb(i,true))}
      </div>
      <div style={{display:"flex",flexWrap:"wrap",gap:isMobile?6:8,justifyContent:"center",marginBottom:isMobile?16:24}}>
        {avail.map(i=>wb(i,false))}
      </div>
      <div style={{display:"flex",gap:isMobile?6:10,justifyContent:"center",flexWrap:"wrap"}}>
        <button onClick={()=>setHint(!hint)} style={{background:"transparent",border:"1px solid rgba(240,230,211,0.2)",borderRadius:10,padding:isMobile?"10px 14px":"10px 18px",color:"rgba(240,230,211,0.5)",cursor:"pointer",fontSize:isMobile?12:13}}>{hint?"–°–∫—Ä—ã—Ç—å":"–ü–æ–¥—Å–∫–∞–∑–∫–∞"}</button>
        <button onClick={check} disabled={sel.length===0||status!==null} style={{background:sel.length===0||status?"rgba(240,230,211,0.05)":"linear-gradient(135deg,#c0392b,#a93226)",border:"none",borderRadius:10,padding:isMobile?"10px 18px":"10px 28px",color:sel.length===0||status?"rgba(240,230,211,0.2)":"#f0e6d3",cursor:sel.length===0||status?"default":"pointer",fontSize:14,fontWeight:600}}>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
        <button onClick={()=>setShowAns(!showAns)} style={{background:"transparent",border:"1px solid rgba(240,230,211,0.1)",borderRadius:10,padding:isMobile?"10px 14px":"10px 18px",color:"rgba(240,230,211,0.3)",cursor:"pointer",fontSize:isMobile?12:13}}>–û—Ç–≤–µ—Ç</button>
      </div>
      {status==="correct"&&<div style={{textAlign:"center",marginTop:16}}><div style={{fontSize:16,color:"#27ae60",fontWeight:600}}>‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ!</div><div style={{fontSize:13,color:"rgba(240,230,211,0.5)",marginTop:4}}>{ex.pinyin}</div></div>}
      {status==="wrong"&&<div style={{textAlign:"center",marginTop:16,fontSize:16,color:"#c0392b"}}>–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑</div>}
      {showAns&&<div style={{textAlign:"center",marginTop:16,padding:12,background:"rgba(255,255,255,0.03)",borderRadius:12}}>
        <div style={{fontSize:14,color:"rgba(240,230,211,0.6)",marginBottom:4}}>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫:</div>
        <div style={{fontSize:16,color:"#D4C5A9",fontWeight:500}}>{ex.ru_cn_order.join(" ")}</div>
        <div style={{fontSize:13,color:"rgba(192,57,43,0.6)",marginTop:4,fontStyle:"italic"}}>{ex.pinyin}</div>
        <div style={{fontSize:12,color:"rgba(240,230,211,0.3)",marginTop:4}}>{ex.hint}</div>
      </div>}
    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ VOCAB LIST ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function VocabList({ words, filter, onFilterChange, isMobile }) {
  return (
    <div style={{width:"100%",maxWidth:600,margin:"0 auto"}}>
      <div style={{display:"flex",flexWrap:"wrap",gap:isMobile?4:6,justifyContent:"center",marginBottom:isMobile?16:24}}>
        <button onClick={()=>onFilterChange("all")} style={{background:filter==="all"?"rgba(240,230,211,0.15)":"transparent",border:`1px solid ${filter==="all"?"rgba(240,230,211,0.3)":"rgba(240,230,211,0.1)"}`,borderRadius:20,padding:"6px 14px",color:filter==="all"?"#f0e6d3":"rgba(240,230,211,0.4)",cursor:"pointer",fontSize:12}}>–í—Å–µ ({words.length})</button>
        {Object.entries(CATEGORIES).map(([k,l])=>{const c=words.filter(w=>w.cat===k).length;return <button key={k} onClick={()=>onFilterChange(k)} style={{background:filter===k?"rgba(240,230,211,0.15)":"transparent",border:`1px solid ${filter===k?CAT_COLORS[k]:"rgba(240,230,211,0.1)"}`,borderRadius:20,padding:"6px 14px",color:filter===k?CAT_COLORS[k]:"rgba(240,230,211,0.4)",cursor:"pointer",fontSize:12}}>{l} ({c})</button>;})}
      </div>
      <div style={{display:"grid",gap:3}}>
        {(filter==="all"?words:words.filter(w=>w.cat===filter)).map(w=>(
          <div key={w.id} style={{display:"grid",gridTemplateColumns:isMobile?"50px 1fr":"55px 1fr 1fr 1fr",alignItems:"center",padding:isMobile?"8px 12px":"10px 16px",background:"rgba(255,255,255,0.02)",borderRadius:8,borderLeft:`3px solid ${CAT_COLORS[w.cat]}40`}}>
            <span style={{fontSize:isMobile?20:22,color:"#f0e6d3",fontFamily:"'Noto Serif SC',serif"}}>{w.zh}</span>
            {isMobile?<div style={{display:"flex",flexDirection:"column",gap:2}}><span style={{fontSize:13,color:"#c0392b",fontStyle:"italic",fontFamily:"'Crimson Text',serif"}}>{w.pinyin}</span><span style={{fontSize:12,color:"rgba(240,230,211,0.5)"}}>{w.ru} ¬∑ {w.en}</span></div>:<><span style={{fontSize:14,color:"#c0392b",fontStyle:"italic",fontFamily:"'Crimson Text',serif"}}>{w.pinyin}</span><span style={{fontSize:13,color:"rgba(240,230,211,0.7)"}}>{w.ru}</span><span style={{fontSize:12,color:"rgba(240,230,211,0.4)"}}>{w.en}</span></>}
          </div>
        ))}
      </div>
    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ APP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function HSK1App() {
  const isMobile = useIsMobile();
  const [mode, setMode] = useState("quiz");
  const [si, setSi] = useState(0);
  const [sd, setSd] = useState(()=>shuffle(SENTENCES_ZH));
  const [ss, setSs] = useState({correct:0,total:0});
  const [wi, setWi] = useState(0);
  const [wd, setWd] = useState(()=>shuffle(WORD_ORDER));
  const [ws, setWs] = useState({correct:0,total:0});
  const [lf, setLf] = useState("all");

  const tabs = [
    {key:"quiz",label:"–¢–µ—Å—Ç",icon:"Ë©¶"},
    {key:"sentences",label:"–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è",icon:"Êñá"},
    {key:"wordorder",label:"–ü–æ—Ä—è–¥–æ–∫",icon:"Â∫è"},
    {key:"list",label:"–°–ª–æ–≤–∞—Ä—å",icon:"ÂÖ∏"},
  ];

  return (
    <div style={{minHeight:"100vh",background:"linear-gradient(180deg,#0d1117,#161b22 50%,#1a1a2e)",color:"#f0e6d3",fontFamily:"'Segoe UI',-apple-system,sans-serif",overflowX:"hidden",WebkitTapHighlightColor:"transparent",touchAction:"manipulation"}}>
      <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
      <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200;300;400;600&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet"/>

      <div style={{textAlign:"center",padding:isMobile?"18px 16px 12px":"28px 20px 18px",borderBottom:"1px solid rgba(240,230,211,0.06)"}}>
        <div style={{fontSize:isMobile?30:40,fontWeight:200,fontFamily:"'Noto Serif SC',serif",letterSpacing:isMobile?8:12,color:"#f0e6d3",marginBottom:2}}>Ê±âËØ≠</div>
        <div style={{fontSize:11,letterSpacing:4,color:"rgba(240,230,211,0.3)",textTransform:"uppercase"}}>HSK 1 ¬∑ {HSK1_VOCAB.length} —Å–ª–æ–≤</div>
      </div>

      <div style={{display:"flex",justifyContent:"center",gap:isMobile?1:4,padding:isMobile?"10px 4px":"14px 20px"}}>
        {tabs.map(t=><button key={t.key} onClick={()=>setMode(t.key)} style={{background:mode===t.key?"rgba(240,230,211,0.08)":"transparent",border:`1px solid ${mode===t.key?"rgba(240,230,211,0.15)":"transparent"}`,borderRadius:isMobile?8:12,padding:isMobile?"7px 10px":"10px 18px",color:mode===t.key?"#f0e6d3":"rgba(240,230,211,0.35)",cursor:"pointer",fontSize:isMobile?11:13,display:"flex",alignItems:"center",gap:isMobile?3:6,whiteSpace:"nowrap",flexShrink:0}}>
          <span style={{fontFamily:"'Noto Serif SC',serif",fontSize:isMobile?14:17}}>{t.icon}</span>{t.label}
        </button>)}
      </div>

      <div style={{padding:isMobile?"12px 12px 40px":"20px 20px 60px"}}>
        {mode==="quiz"&&<QuizMode isMobile={isMobile}/>}

        {mode==="sentences"&&<div>
          <div style={{textAlign:"center",marginBottom:20,fontSize:13,color:"rgba(240,230,211,0.4)"}}>
            {si+1}/{sd.length}{ss.total>0&&<span style={{marginLeft:12,color:"#27ae60"}}>‚úì {ss.correct}/{ss.total}</span>}
            <button onClick={()=>{setSd(shuffle(SENTENCES_ZH));setSi(0);setSs({correct:0,total:0});}} style={{marginLeft:12,background:"transparent",border:"1px solid rgba(240,230,211,0.1)",borderRadius:8,padding:"2px 10px",color:"rgba(240,230,211,0.3)",cursor:"pointer",fontSize:12}}>‚Üª</button>
          </div>
          <SentenceBuilder key={si} sentence={sd[si]} isMobile={isMobile} onComplete={ok=>{setSs(s=>({correct:s.correct+(ok?1:0),total:s.total+1}));setSi(i=>(i+1)%sd.length);}}/>
        </div>}

        {mode==="wordorder"&&<div>
          <div style={{textAlign:"center",marginBottom:20,fontSize:13,color:"rgba(240,230,211,0.4)"}}>
            {wi+1}/{wd.length}{ws.total>0&&<span style={{marginLeft:12,color:"#27ae60"}}>‚úì {ws.correct}/{ws.total}</span>}
            <button onClick={()=>{setWd(shuffle(WORD_ORDER));setWi(0);setWs({correct:0,total:0});}} style={{marginLeft:12,background:"transparent",border:"1px solid rgba(240,230,211,0.1)",borderRadius:8,padding:"2px 10px",color:"rgba(240,230,211,0.3)",cursor:"pointer",fontSize:12}}>‚Üª</button>
          </div>
          <WordOrderEx key={wi} ex={wd[wi]} isMobile={isMobile} onComplete={ok=>{setWs(s=>({correct:s.correct+(ok?1:0),total:s.total+1}));setWi(i=>(i+1)%wd.length);}}/>
        </div>}

        {mode==="list"&&<VocabList words={HSK1_VOCAB} filter={lf} onFilterChange={setLf} isMobile={isMobile}/>}
      </div>
    </div>
  );
}


    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<HSK1App />);
  </script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js')
          .then(reg => console.log('SW registered'))
          .catch(err => console.log('SW failed:', err));
      });
    }
  </script>
</body>
</html>